import t from"fs";class UnionFind{constructor(t){this.parent=[...Array(t).keys()],this.size=Array(t).fill(1)}find(t){return this.parent[t]!==t&&(this.parent[t]=this.find(this.parent[t])),this.parent[t]}union(t,i){let e=this.find(t),n=this.find(i);return e!==n&&(this.size[e]>=this.size[n]?(this.parent[n]=e,this.size[e]+=this.size[n]):(this.parent[e]=n,this.size[n]+=this.size[e]),!0)}componentSize(){let t=[];for(let i=0;i<this.parent.length;i+=1)this.find(i)===i&&t.push(this.size[i]);return t}}let main=()=>{let i=t.readFileSync(0,"utf8").trim().split("\n"),e=i.map(t=>{let[i,e,n]=t.split(",").map(t=>parseInt(t,10));return[i,e,n]}),n=[];for(let s=0;s<e.length;s+=1){let[r,h,l]=e[s];for(let o=s+1;o<e.length;o+=1){let[p,a,f]=e[o],$=r-p,m=h-a,u=l-f,z=$*$+m*m+u*u;n.push([z,s,o])}}n.sort((t,i)=>t[0]-i[0]);let _=new UnionFind(e.length);for(let d=0;d<Math.min(1e3,n.length);d+=1){let[c,g,F]=n[d];_.union(g,F)}let S=_.componentSize().sort((t,i)=>i-t);console.log(S[0]*S[1]*S[2])};main();